import test from 'ava';
import { Bender } from '../../lib/bender';
import { loadMapFile } from '../../lib/map_loader';
import { WorldMap } from '../../lib/world_map';

test('multipleLoops', (t) => {
  let mapMatrix = loadMapFile('./src/tests/multiple_loops/input.txt');
  let worldMap = new WorldMap(mapMatrix);
  let bender = new Bender(worldMap.startPoint);
  let desiredOutput = [
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'EAST',
    'EAST',
    'EAST',
    'EAST',
    'NORTH',
    'NORTH',
    'NORTH',
    'NORTH',
    'WEST',
    'WEST',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'EAST',
    'EAST',
    'EAST',
    'NORTH',
    'WEST',
    'WEST',
    'WEST',
    'WEST',
    'WEST',
    'SOUTH',
    'SOUTH',
    'EAST',
    'EAST',
    'EAST',
    'EAST',
    'NORTH',
    'NORTH',
    'NORTH',
    'NORTH',
    'NORTH',
    'NORTH',
    'NORTH',
    'NORTH',
    'NORTH',
    'WEST',
    'WEST',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'EAST',
    'EAST',
    'EAST',
    'NORTH',
    'WEST',
    'WEST',
    'WEST',
    'WEST',
    'WEST',
    'SOUTH',
    'SOUTH',
    'EAST',
    'EAST',
    'EAST',
    'EAST',
    'NORTH',
    'NORTH',
    'NORTH',
    'NORTH',
    'NORTH',
    'NORTH',
    'NORTH',
    'NORTH',
    'NORTH',
    'NORTH',
    'NORTH',
    'NORTH',
    'NORTH',
    'NORTH',
    'WEST',
    'WEST',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'EAST',
    'EAST',
    'EAST',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'WEST',
    'WEST',
    'WEST',
    'WEST',
    'WEST',
    'SOUTH',
    'SOUTH',
    'EAST',
    'EAST',
    'EAST',
    'EAST',
    'NORTH',
    'NORTH',
    'NORTH',
    'NORTH',
    'WEST',
    'WEST',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'SOUTH',
    'EAST',
    'EAST',
    'EAST',
    'EAST',
  ];
  let output = bender.goThroughMap(worldMap);
  t.deepEqual(output, desiredOutput);
});
